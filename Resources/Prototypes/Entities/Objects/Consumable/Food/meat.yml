# Base

- type: entity
  abstract: true
  parent: FoodInjectableBase
  id: FoodMeatBase
  components:
  - type: FlavorProfile
    flavors:
      - meaty
  - type: Sprite
    sprite: Objects/Consumable/Food/meat.rsi
  - type: Extractable
    grindableSolutionName: food
  - type: SolutionContainerManager
    solutions:
      food:
        maxVol: 20
        reagents:
        - ReagentId: Nutriment
          Quantity: 5
        - ReagentId: UncookedAnimalProteins
          Quantity: 1
        - ReagentId: Fat
          Quantity: 5
  - type: Item
    shape:
    - 0,0,1,0
  - type: Fixtures
    fixtures:
      fix1:
        shape:
          !type:PhysShapeAabb
          bounds: "-0.25,-0.25,0.25,0.25"
        # less mass so it can cook faster, a single strip of bacon isnt 5kg
        density: 1
        mask:
        - ItemMask
        restitution: 0.3  # fite me
        friction: 0.2
  # let air cook and freeze meat for cooking and preservation
  - type: AtmosExposed
  - type: Temperature
    currentTemperature: 290
  # required for cooking to work
  - type: InternalTemperature
    thickness: 0.02
    area: 0.02 # arbitrary number that sounds right for a slab of meat
  - type: Material
  - type: PhysicalComposition
    materialComposition:
      Meaterial: 300

- type: entity
  parent: FoodMeatBase
  id: FoodMeatRawBase
  abstract: true
  components:
  - type: Tag
    tags:
    - Raw
    - Meat
  - type: Perishable
    # raw meat rots in 5 minutes, get it into the freezer fast
    rotAfter: 300
    # don't want meat giving off ammonia only bodies
    molsPerSecondPerUnitMass: 0
  - type: RotInto
    entity: FoodMeatRotten
    # once it would say bloated, turn into the rotten prototype
    stage: 1

# Raw

- type: entity
  parent: FoodMeatRawBase
  id: FoodMeat
  name: raw meat
  description: A slab of raw meat.
  components:
  - type: Sprite
    state: plain
  - type: SolutionContainerManager
    solutions:
      food:
        reagents:
        - ReagentId: UncookedAnimalProteins
          Quantity: 9
        - ReagentId: Fat
          Quantity: 9
  - type: SliceableFood
    count: 3
    slice: FoodMeatCutlet
  - type: InternalTemperature
    conductivity: 0.43
  - type: Construction
    graph: MeatSteak
    node: start
    defaultTarget: meat steak
  - type: Tag
    tags:
    - Meat
  - type: Item
    storedOffset: -2,1
    inhandVisuals:
      left:
      - state: plain-inhand-left
      right:
      - state: plain-inhand-right

- type: entity
  parent: FoodMeatRawBase
  id: FoodMeatHuman
  name: raw human meat
  description: Gross.
  components:
  - type: Sprite
    state: plain
  - type: SolutionContainerManager
    solutions:
      food:
        reagents:
        - ReagentId: UncookedAnimalProteins
          Quantity: 9
  - type: SliceableFood
    count: 3
    slice: FoodMeatCutlet
  - type: Item
    storedOffset: -2,1
    inhandVisuals:
      left:
      - state: plain-inhand-left
      right:
      - state: plain-inhand-right

- type: entity
  # bacon is cured so not raw = cant rot
  parent: FoodMeatBase
  id: FoodMeatBacon
  name: raw bacon
  description: A raw piece of bacon.
  components:
  - type: Tag
    tags:
    - Raw
    - Meat
  - type: Sprite
    state: bacon
  - type: SolutionContainerManager
    solutions:
      food:
        reagents:
        - ReagentId: UncookedAnimalProteins
          Quantity: 2
        - ReagentId: Fat
          Quantity: 9
  - type: InternalTemperature
    conductivity: 0.44
    thickness: 0.004 # bacon is thin so faster to cook than a steak
    area: 0.0075 # ~5x15cm
  - type: Construction
    graph: Bacon
    node: start
    defaultTarget: bacon
  - type: Item
    storedOffset: -1,0
    inhandVisuals:
      left:
      - state: generic-pink-inhand-left
      right:
      - state: generic-pink-inhand-right

- type: entity
  parent: FoodMeatRawBase
  id: FoodMeatRat
  name: raw rat meat
  description: Prime meat from maintenance!
  components:
  - type: Sprite
    state: plain
  - type: SolutionContainerManager
    solutions:
      food:
        reagents:
        - ReagentId: UncookedAnimalProteins
          Quantity: 3
        - ReagentId: Fat
          Quantity: 3
  - type: SliceableFood
    count: 3
    slice: FoodMeatCutlet
  - type: Item
    storedOffset: -2,1
    inhandVisuals:
      left:
      - state: plain-inhand-left
      right:
      - state: plain-inhand-right

- type: entity
  parent: FoodMeatBase
  id: FoodMeatRotten
  name: rotten meat
  description: Halfway to becoming fertilizer for your garden.
  components:
  - type: Tag
    tags:
    - Raw
    - Meat
    - Trash
    - Recyclable
  - type: Sprite
    state: rotten
  - type: SolutionContainerManager
    solutions:
      food:
        reagents:
        - ReagentId: UncookedAnimalProteins
          Quantity: 5
        - ReagentId: Fat
          Quantity: 4
  - type: Item
    storedOffset: -2,1
    inhandVisuals:
      left:
      - state: rotten-inhand-left
      right:
      - state: rotten-inhand-right

- type: entity
  parent: FoodMeatBase
  id: FoodMeatCooked
  name: steak
  description: A cooked slab of meat. Smells primal.
  components:
  - type: Tag
    tags:
    - Cooked
    - Meat
    - Steak
  - type: Sprite
    layers:
    - state: plain-cooked
  - type: SolutionContainerManager
    solutions:
      food:
        reagents:
        - ReagentId: Nutriment
          Quantity: 10
        - ReagentId: Protein
          Quantity: 5
  - type: SliceableFood
    count: 3
    slice: FoodMeatCutletCooked
  - type: Construction
    graph: MeatSteak
    node: meat steak
  - type: FoodSequenceElement
    entries:
      Burger: MeatSteak
      Taco: MeatSteak
  - type: Item
    storedOffset: -2,1
    inhandVisuals:
      left:
      - state: plain-cooked-inhand-left
      right:
      - state: plain-cooked-inhand-right

- type: entity
  parent: FoodMeatBase
  id: FoodMeatBaconCooked
  name: bacon
  description: A delicious piece of cooked bacon.
  components:
  - type: Tag
    tags:
    - Cooked
    - Meat
  - type: Sprite
    layers:
    - state: bacon-cooked
      map: [ "enum.DamageStateVisualLayers.Base" ]
  - type: RandomSprite
    available:
      - enum.DamageStateVisualLayers.Base:
          bacon-cooked: ""
          bacon2-cooked: ""
  - type: SolutionContainerManager
    solutions:
      food:
        reagents:
        - ReagentId: Nutriment
          Quantity: 5
        - ReagentId: Protein
          Quantity: 5
  - type: Construction
    graph: Bacon
    node: bacon
  - type: FoodSequenceElement
    entries:
      Burger: MeatBacon
      Taco: MeatBacon
  - type: Item
    storedOffset: -1,0
    inhandVisuals:
      left:
      - state: generic-pink-inhand-left
        color: "#5B3E2A"
      right:
      - state: generic-pink-inhand-right
        color: "#5B3E2A"

# Cutlets

# Raw

- type: entity
  parent: FoodMeatBase
  id: FoodMeatCutlet
  name: raw cutlet
  description: A raw meat cutlet.
  components:
  - type: Tag
    tags:
    - Raw
    - Cutlet
    - Meat
  - type: Sprite
    state: cutlet
  - type: SolutionContainerManager
    solutions:
      food:
        reagents:
        - ReagentId: UncookedAnimalProteins
          Quantity: 3
        - ReagentId: Fat
          Quantity: 2
  - type: Construction
    graph: Cutlet
    node: start
    defaultTarget: cutlet
  - type: Item
    size: Tiny
    shape:
    - 0,0,0,0
    inhandVisuals:
      left:
      - state: generic-pink-inhand-left
      right:
      - state: generic-pink-inhand-right

# Cooked

- type: entity
  parent: FoodMeatBase
  id: FoodMeatCutletCooked
  name: cutlet
  description: A cooked meat cutlet. Needs some seasoning.
  components:
  - type: Tag
    tags:
    - Cooked
    - Cutlet
    - Meat
  - type: Sprite
    state: cutlet-cooked
  - type: SolutionContainerManager
    solutions:
      food:
        reagents:
        - ReagentId: Nutriment
          Quantity: 2
        - ReagentId: Protein
          Quantity: 2
  - type: Construction
    graph: Cutlet
    node: cutlet
  - type: FoodSequenceElement
    entries:
      Burger: MeatCutlet
      Taco: MeatCutlet
  - type: Item
    size: Tiny
    shape:
    - 0,0,0,0
    storedOffset: -1,1
    inhandVisuals:
      left:
      - state: generic-pink-inhand-left
        color: "#5B3614"
      right:
      - state: generic-pink-inhand-right
        color: "#5B3614"
